{"version":3,"file":"static/js/526.23d509cd.chunk.js","mappings":"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","sources":["pages/LvManage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button, { BUTTON_CANCEL } from \"../components/Button\";\nimport { LABELS } from \"../constants/Labels\";\nimport { LvMessages } from \"../constants/Message\";\nimport { useModal } from \"../contexts/ModalContext\";\nimport { ROUTES } from \"../constants/routes\";\nimport axios from \"../api/axios\";\nimport { useSelector } from \"react-redux\";\nimport { KEYS } from \"../constants/Keys\";\n\nconst LvManage = () => {\n  const role = useSelector((state) => state.auth.user?.role);\n  const { showDialog, showAlert, closeModal } = useModal();\n  const [changeValue, setChangeValue] = useState(\"\");\n  const [currentValue, setCurrentValue] = useState(\"\");\n  const [changeLineCount, setChangeLineCount] = useState(0);\n  const [currentLineCount, setCurrentLineCount] = useState(0);\n\n  const lvNumbers = [\n    7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654,\n    7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654,\n    7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654, 7654,\n  ];\n\n  useEffect(() => {\n    const initData = lvNumbers.join(\"\\n\");\n    setChangeValue(initData);\n    setCurrentValue(initData);\n    setChangeLineCount(lvNumbers.length);\n    setCurrentLineCount(lvNumbers.length);\n\n    // axios.get(ROUTES.LV).then(res=>{\n    //   setChangeValue(res.data);\n    //   setCurrentValue(res.data);\n    //   setChangeLineCount(res.data.length);\n    //   setCurrentLineCount(res.data.length);\n    // })\n  }, []);\n\n  const handleChange = (e) => {\n    const input = e.target.value;\n\n    const lines = input\n      .split(\"\\n\")\n      .map((line) => line.replace(/[^0-9]/g, \"\").slice(0, 4));\n\n    setChangeValue(lines.join(\"\\n\"));\n\n    // 빈 줄 제거한 기준으로 줄 수 계산\n    const nonEmptyLineCount = lines.filter((line) => line !== \"\").length;\n    setChangeLineCount(nonEmptyLineCount);\n  };\n\n  const validation = () => {\n    const lines = changeValue\n      .split(\"\\n\")\n      .map((line) => line.replace(/[^0-9]/g, \"\").trim())\n      .filter((line) => line !== \"\"); // 빈 줄 제거\n\n    return !lines.some((line) => line.length < 4);\n  };\n\n  const clickAllChange = () => {\n    if (!validation()) {\n      showAlert({\n        message: LvMessages.errorChange,\n      });\n      return;\n    }\n\n    showDialog({\n      message: LvMessages.allChange,\n      onConfirm: allChange,\n    });\n  };\n\n  const allChange = () => {\n    const cleanedLines = changeValue\n      .split(\"\\n\")\n      .map((line) => line.trim()) // 공백 제거\n      .filter((line) => line !== \"\"); // 빈 줄 제거\n\n    const result = cleanedLines.join(\"\\n\");\n\n    setChangeValue(result);\n    setCurrentValue(result);\n    setChangeLineCount(cleanedLines.length);\n    setCurrentLineCount(cleanedLines.length);\n\n    // 안되면 닫고 alert날려\n    closeModal();\n\n    // 성공\n    setTimeout(() => {\n      showAlert({\n        message: LvMessages.successChange,\n      });\n    }, 100);\n  };\n\n  return (\n    <div className=\"lvBoxLayout\">\n      <div className=\"lvBox\">\n        <h4 className=\"page-title\">{LABELS.STATION_CHANGE_NUMBER}</h4>\n        <div className=\"tbl-list-top\">\n          <div className=\"top-button\">\n            <span className=\"total mr0\">\n              {LABELS.COUNT_RESULT(changeLineCount)}\n            </span>\n          </div>\n          {role === KEYS.ADMIN && (\n            <Button\n              type={BUTTON_CANCEL}\n              label={LABELS.ALL_CHANGE}\n              onClick={clickAllChange}\n            />\n          )}\n        </div>\n\n        <textarea\n          value={changeValue}\n          onChange={handleChange}\n          type=\"number\"\n          rows={5}\n          cols={5}\n          disabled={role !== KEYS.ADMIN}\n        />\n      </div>\n\n      <div className=\"lvBox\">\n        <h4 className=\"page-title\">{LABELS.STATION_CURRENT_NUMBER}</h4>\n        <div className=\"tbl-list-top\">\n          <div className=\"top-button\">\n            <span className=\"total mr0\">\n              {LABELS.COUNT_RESULT(currentLineCount)}\n            </span>\n          </div>\n          {/* <Button type={BUTTON_CANCEL} label={LABELS.VIEW} /> */}\n        </div>\n        <textarea\n          value={currentValue}\n          onChange={handleChange}\n          type=\"number\"\n          rows={5}\n          cols={5}\n          disabled\n        />\n      </div>\n      <div className=\"lvBoxBottom\">\n        <span>{LvMessages.info1}</span>\n        <span>{LvMessages.info2}</span>\n        <span>{LvMessages.info3}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default LvManage;\n"],"names":["LvManage","role","useSelector","state","_state$auth$user","auth","user","showDialog","showAlert","closeModal","useModal","changeValue","setChangeValue","useState","currentValue","setCurrentValue","changeLineCount","setChangeLineCount","currentLineCount","setCurrentLineCount","lvNumbers","useEffect","initData","join","length","handleChange","e","lines","target","value","split","map","line","replace","slice","nonEmptyLineCount","filter","allChange","cleanedLines","trim","result","setTimeout","message","LvMessages","successChange","_jsxs","className","children","_jsx","LABELS","STATION_CHANGE_NUMBER","COUNT_RESULT","KEYS","ADMIN","Button","type","BUTTON_CANCEL","label","ALL_CHANGE","onClick","clickAllChange","some","errorChange","onConfirm","onChange","rows","cols","disabled","STATION_CURRENT_NUMBER","info1","info2","info3"],"sourceRoot":""}